(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{39:function(e,t,n){},41:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(1),i=n.n(s),c=n(19),r=n.n(c),o=(n(38),n(39),n(13)),l=n.n(o),h=n(16),p=n(7),d=n(8),u=n(5),m=n(10),j=n(9),b=n(50),g=n(15),O=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={username:"",email:"",password1:"",password2:""},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Register"}),Object(a.jsxs)("form",{className:"col-4",onSubmit:function(t){return e.props.handleRegistration(t,e.state)},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"username"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:this.state.title,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"title",children:"email"}),Object(a.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",value:this.state.title,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"title",children:"password1"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password1",name:"password1",value:this.state.title,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"title",children:"password2"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password2",name:"password2",value:this.state.title,onChange:this.handleChange})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})]})}}]),n}(i.a.Component),f=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={username:"",password:"",register:!1},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Login"}),Object(a.jsxs)("form",{className:"col-4",onSubmit:function(t){return e.props.handleLogin(t,e.state,e.state.register)},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"title",children:"username"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",value:this.state.title,onChange:this.handleChange}),Object(a.jsx)("label",{htmlFor:"title",children:"password"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"password",name:"password",value:this.state.title,onChange:this.handleChange})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(){return e.setState({register:!0})},children:"Register"})]})]})}}]),n}(i.a.Component);function x(e){return Object(a.jsx)("div",{className:"list-group col-3",onClick:function(){return e.choose(e.recipe.id)},children:Object(a.jsxs)("div",{className:"list-group-item recipe-preview",children:[Object(a.jsx)("img",{src:e.recipe.image,alt:""}),Object(a.jsx)("p",{className:"recipe-name",children:e.recipe.name}),Object(a.jsxs)("p",{className:"side-art-author",children:["by ",e.recipe.user]})]})})}var v=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props.recipes.map((function(t){return Object(a.jsx)(x,{recipe:t,choose:e.props.choose},t.id)}));return Object(a.jsx)("div",{className:"recipe-list row",children:t})}}]),n}(i.a.Component),k=n(12),C=n.n(k),y=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={image:null,preview:"",name:"",ingredients:"",instructions:"",notes:"",is_public:!0,category:"",amount:1,prep_time:1,cook_time:1,cook_temp:350,temp:"F",type:""},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleImage=a.handleImage.bind(Object(u.a)(a)),a.addRecipe=a.addRecipe.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(g.a)({},e.target.name,e.target.value))}},{key:"handleImage",value:function(e){var t=this,n=e.target.files[0];this.setState({image:n});var a=new FileReader;a.onloadend=function(){t.setState({preview:a.result})},a.readAsDataURL(n)}},{key:"addRecipe",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,s,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("image",this.state.image),n.append("name",this.state.name),n.append("ingredients",this.state.ingredients),n.append("instructions",this.state.instructions),n.append("notes",this.state.notes),n.append("is_public",this.state.is_public),n.append("category",this.state.category),n.append("amount",this.state.amount),n.append("prep_time",this.state.prep_time),n.append("cook_time",this.state.cook_time),n.append("cook_temp",this.state.cook_temp),n.append("temp",this.state.temp),n.append("type",this.state.type),console.log(n),a={method:"POST",headers:{"X-CSRFToken":C.a.get("csrftoken")},body:n},s=function(e){return console.warn(e)},e.next=20,fetch("/api/v1/recipes/",a);case 20:return i=e.sent,e.next=23,i.json().catch(s);case 23:c=e.sent,console.log(c),c.key&&C.a.set("Authorization","Token ".concat(c.key));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(a.jsx)(i.a.Fragment,{children:Object(a.jsxs)("form",{className:"col-12 col-md-6 mb-5 form",onSubmit:function(t){return e.addRecipe(t)},children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"image",children:"Add picture"}),Object(a.jsx)("input",{type:"file",id:"image",name:"image",onChange:this.handleImage}),Object(a.jsx)("img",{className:"image-preview",src:this.state.preview,alt:""})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"name"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",placeholder:"Recipe Name",value:this.state.name,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group form-check",children:[Object(a.jsx)("input",{type:"checkbox",className:"form-check-input",id:"is_public",name:"is_public",onClick:function(){return e.setState({is_public:!0})}}),Object(a.jsx)("label",{className:"form-check-label",htmlFor:"is_public",children:"Make Public"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"amount",children:"This recipe will make "}),Object(a.jsx)("input",{type:"number",min:"0",className:"form-control",id:"amount",name:"amount",placeholder:"Amount",value:this.state.amount,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"type"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"type",name:"type",placeholder:"cookies, loaves, etc...",value:this.state.type,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"prep_time",children:"Prep Time"}),Object(a.jsx)("input",{type:"number",min:"0",className:"form-control",id:"prep_time",placeholder:"Prep Time",name:"prep_time",value:this.state.prep_time,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"cook_time",children:"Cook Time"}),Object(a.jsx)("input",{type:"number",min:"0",className:"form-control",id:"cook_time",name:"cook_time",placeholder:"Cook Time",value:this.state.cook_time,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"cook_temp",children:"Cook Temp"}),Object(a.jsx)("input",{type:"number",min:"0",className:"form-control",id:"cook_temp",name:"cook_temp",placeholder:"Cook Temp",value:this.state.cook_temp,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"ingredients"}),Object(a.jsx)("textarea",{className:"form-control",id:"ingredients",name:"ingredients",rows:"8",placeholder:"Ingredients",value:this.state.ingredients,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"instructions"}),Object(a.jsx)("textarea",{className:"form-control",id:"instructions",name:"instructions",placeholder:"What directions go with this step?",rows:"8",value:this.state.instructions,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"notes",children:"Personal Notes"}),Object(a.jsx)("textarea",{className:"form-control",id:"notes",name:"notes",rows:"8",placeholder:"",value:this.state.notes,onChange:this.handleChange})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"category"}),Object(a.jsxs)("select",{id:"category",className:"form-control",name:"category",placeholder:"Recipe Type",value:this.state.category,onChange:this.handleChange,children:[Object(a.jsx)("option",{value:"BKF",children:"Breakfast"}),Object(a.jsx)("option",{value:"LCH",children:"Lunch"}),Object(a.jsx)("option",{value:"DNR",children:"Dinner"}),Object(a.jsx)("option",{value:"DST",children:"Dessert"})]})]}),Object(a.jsxs)("div",{className:"form-bottom",children:[Object(a.jsx)("label",{htmlFor:"temp"}),Object(a.jsxs)("select",{id:"temp",className:"form-control",name:"temp",value:this.state.temp,onChange:this.handleChange,children:[Object(a.jsx)("option",{value:"F",children:"F"}),Object(a.jsx)("option",{value:"C",children:"C"})]})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary mt-2",children:"Add Recipe"})]})})}}]),n}(i.a.Component),N=function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={},a}return Object(d.a)(n,[{key:"render",value:function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"card",children:[Object(a.jsx)("h5",{style:{textAlign:"center"},children:this.props.pickedRecipe.name}),Object(a.jsx)("img",{src:this.props.pickedRecipe.image,alt:""}),Object(a.jsxs)("section",{id:"pages",class:"row cook-info-row",children:[Object(a.jsxs)("div",{class:"col-2 cook-info",children:[Object(a.jsx)("p",{children:"Recipe Type"}),this.props.pickedRecipe.category]}),Object(a.jsxs)("div",{class:"col-2 cook-info",children:[Object(a.jsx)("p",{children:"Prep Time"}),this.props.pickedRecipe.prep_time]}),Object(a.jsxs)("div",{class:"col-2 cook-info",children:[Object(a.jsx)("p",{children:"Cook Time"}),this.props.pickedRecipe.cook_time]}),Object(a.jsxs)("div",{class:"col-2 cook-info",children:[Object(a.jsx)("p",{children:"Cook Temp"}),this.props.pickedRecipe.cook_temp]})]}),Object(a.jsxs)("div",{className:"p-4",children:[Object(a.jsx)("p",{children:"Ingredients you will need:"}),Object(a.jsx)("p",{children:this.props.pickedRecipe.ingredients}),Object(a.jsx)("p",{children:"Instructions:"}),Object(a.jsx)("p",{children:this.props.pickedRecipe.instructions}),Object(a.jsx)("p",{children:"Notes:"}),Object(a.jsx)("p",{children:this.props.pickedRecipe.notes})]})]})})}}]),n}(i.a.Component),w=(n(41),function(e){Object(m.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={recipes:[],page:"Home",loggedIn:!!C.a.get("Authorization"),pickedRecipe:{}},a.handleRegistration=a.handleRegistration.bind(Object(u.a)(a)),a.handleLogin=a.handleLogin.bind(Object(u.a)(a)),a.handleLogout=a.handleLogout.bind(Object(u.a)(a)),a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.choose=a.choose.bind(Object(u.a)(a)),a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/v1/recipes/").then((function(e){return e.json()})).then((function(t){return e.setState({recipes:t})})).catch((function(e){return console.log("Error: ",e)}))}},{key:"handleRegistration",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a,s,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C.a.get("csrftoken")},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=5,fetch("/api/v1/rest-auth/registration/",a);case 5:return i=e.sent,e.next=8,i.json().catch(s);case 8:(c=e.sent).key&&(C.a.set("Authorization","Token ".concat(c.key)),localStorage.setItem("is_staff",c.is_staff),this.setState({page:"Home"}),this.setState({loggedIN:!0}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleLogin",value:function(){var e=Object(h.a)(l.a.mark((function e(t,n){var a,s,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C.a.get("csrftoken")},body:JSON.stringify(n)},s=function(e){return console.warn(e)},e.next=5,fetch("/api/v1/rest-auth/login/",a);case 5:return i=e.sent,e.next=8,i.json().catch(s);case 8:(c=e.sent).key&&(C.a.set("Authorization","Token ".concat(c.key)),this.setState({loggedIn:!0}),localStorage.setItem("is_staff",c.is_staff),this.setState({page:"New Recipe"}));case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"handleLogout",value:function(){var e=Object(h.a)(l.a.mark((function e(t){var n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C.a.get("csrftoken")}},a=function(e){return console.warn(e)},e.next=5,fetch("/api/v1/rest-auth/logout/",n);case 5:return s=e.sent,e.next=8,s.json().catch(a);case 8:"Successfully logged out."===e.sent.detail&&(C.a.remove("Authorization"),this.setState({loggedIn:!1}),localStorage.removeItem("is_staff"),this.setState({page:"Home"}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){this.setState({page:e})}},{key:"choose",value:function(e){var t=this.state.recipes.find((function(t){return t.id===e}));this.setState({pickedRecipe:t,page:"Recipe Display"})}},{key:"render",value:function(){var e,t,n=this;this.state.loggedIn?(t=Object(a.jsx)(b.a.Item,{href:"#/action-2",onClick:function(){return n.handleClick("New Recipe")},children:"New Recipe"}),e=Object(a.jsx)(b.a.Item,{href:"#/action-3",onClick:this.handleLogout,children:"Log Out"})):(t=Object(a.jsx)(b.a.Item,{href:"#/action-1",onClick:function(){return n.handleClick("Login")},children:"Login"}),e=Object(a.jsx)(b.a.Item,{href:"#/action-1",onClick:function(){return n.handleClick("Register")},children:"Register"}));var s,c=this.state.page;return"Home"===c?s=Object(a.jsx)(v,{recipes:this.state.recipes,choose:this.choose}):"Register"===c?s=Object(a.jsx)(O,{handleRegistration:this.handleRegistration}):"Login"===c?s=Object(a.jsx)(f,{handleLogin:this.handleLogin}):"New Recipe"===c?s=Object(a.jsx)(y,{handleLogin:this.addRecipe}):"Recipe Display"===c&&(s=Object(a.jsx)(N,{pickedRecipe:this.state.pickedRecipe})),Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(a.jsx)("button",{className:"btn  menu-button",type:"button",onClick:function(){return n.handleClick("Home")},children:"Home"}),Object(a.jsxs)(b.a,{children:[Object(a.jsx)(b.a.Toggle,{variant:"primary",id:"dropdown-basic-button",title:"Dropdown button",children:Object(a.jsx)("i",{className:"fas fa-user-alt"})}),Object(a.jsxs)(b.a.Menu,{children:[t,e]})]})]}),Object(a.jsx)("div",{className:"container fullpage",children:s})]})}}]),n}(i.a.Component)),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),i(e),c(e)}))};r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(w,{})}),document.getElementById("root")),R()}},[[45,1,2]]]);
//# sourceMappingURL=main.6dce7dff.chunk.js.map